<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="南梁革命纪念馆官方网站 - 传承红色基因，弘扬南梁精神">
    <meta name="keywords" content="南梁,革命纪念馆,红色教育,陕甘边革命根据地">
    <title>南梁革命纪念馆 - 传承红色基因，弘扬南梁精神</title>
    
    <!-- 样式文件 -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- 预加载重要资源 -->
    <link rel="preload" href="https://i.ibb.co/pFcFkp1/2025-09-01-09-48-00.png" as="image">
    <link rel="preconnect" href="https://i.ibb.co">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="#" class="logo">南梁革命纪念馆</a>
            <div class="hamburger" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item"><a href="#home">首页</a></li>
                <li class="nav-item"><a href="#digital">数字展馆</a></li>
                <li class="nav-item"><a href="#knowledge">知识学习</a></li>
                <li class="nav-item"><a href="#artifacts">馆藏文物</a></li>
                <li class="nav-item"><a href="#education">思政教育</a></li>
                <li class="nav-item"><a href="#about">关于我们</a></li>
                <li class="nav-item"><a href="javascript:void(0)" onclick="openAdmin()">管理后台</a></li>
            </ul>
        </div>
    </nav>

    <!-- 英雄区域 -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1 class="hero-title">南梁革命纪念馆</h1>
            <p class="hero-subtitle">传承红色基因 · 弘扬南梁精神</p>
            <p class="hero-description">
                南梁，中国革命史上的重要地标，陕甘边革命根据地的中心。这里孕育了革命，为中国革命做出了历史性贡献，是老一辈无产阶级革命家留给我们的宝贵财富。
            </p>
            <div class="cta-buttons">
                <button class="cta-button" onclick="openVRTour()">VR全景参观</button>
                <button class="cta-button secondary" onclick="openAIChat()">AI智能导览</button>
            </div>
        </div>
    </section>

    <!-- 主要内容区域 -->
    <main class="main-content">
        <!-- 数字展馆 -->
        <section id="digital" class="section animate-on-scroll">
            <h2 class="section-title">数字展馆体验</h2>
            <p class="section-subtitle">运用前沿科技，打造沉浸式参观体验</p>
            <div class="card-grid">
                <div class="card vr-card">
                    <div class="card-header"></div>
                    <div class="card-content">
                        <h3 class="card-title">VR全景导览</h3>
                        <p class="card-description">
                            采用720度全景VR技术，突破时空限制，让您身临其境体验南梁革命纪念馆的每个角落，感受革命历史的震撼力量。
                        </p>
                        <button class="card-button" onclick="openVRTour()">进入VR体验</button>
                    </div>
                </div>
                <div class="card ai-card">
                    <div class="card-header"></div>
                    <div class="card-content">
                        <h3 class="card-title">AI智能导览</h3>
                        <p class="card-description">
                            基于大语言模型的智能导览系统，可回答关于南梁历史、革命人物、文物背景的各种问题，提供个性化学习体验。
                        </p>
                        <button class="card-button" onclick="openAIChat()">开始AI对话</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 知识学习 -->
        <section id="knowledge" class="section animate-on-scroll">
            <h2 class="section-title">知识图谱与互动学习</h2>
            <p class="section-subtitle">构建系统化知识体系，实现深度学习体验</p>
            <div class="card-grid">
                <div class="card knowledge-card">
                    <div class="card-header"></div>
                    <div class="card-content">
                        <h3 class="card-title">南梁知识图谱</h3>
                        <p class="card-description">
                            以革命人物、重大事件、历史地点为节点，构建南梁革命历史知识网络，直观展现历史脉络和人物关系。
                        </p>
                        <button class="card-button" onclick="openKnowledgeGraph()">探索知识图谱</button>
                    </div>
                </div>
                <div class="card ai-card">
                    <div class="card-header"></div>
                    <div class="card-content">
                        <h3 class="card-title">生成式AI互动学习</h3>
                        <p class="card-description">
                            专属的"南梁历史通"AI助手，能随时回答您关于南梁历史的任何提问，为您提供及时、准确的历史知识。
                        </p>
                        <button class="card-button" onclick="openAILearning()">开始AI学习</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 馆藏文物 -->
        <section id="artifacts" class="section animate-on-scroll">
            <h2 class="section-title">珍贵馆藏文物</h2>
            <p class="section-subtitle">每一件文物都是历史的见证，述说着不朽的革命精神</p>
            
            <!-- 搜索筛选栏 -->
            <div class="search-filter-bar">
                <input type="text" class="search-input" id="searchInput" placeholder="🔍 搜索文物名称..." oninput="filterArtifacts()">
                <select class="filter-select" id="levelFilter" onchange="filterArtifacts()">
                    <option value="">所有等级</option>
                    <option value="国家一级文物">国家一级文物</option>
                    <option value="国家二级文物">国家二级文物</option>
                    <option value="国家三级文物">国家三级文物</option>
                    <option value="一般文物">一般文物</option>
                </select>
            </div>

            <div id="artifactsDisplay">
                <div class="empty-state">
                    <h3>文物展示</h3>
                    <div class="stats-grid" style="margin-top: 2rem;">
                        <div class="stat-item">
                            <span class="stat-number">7</span>
                            <span class="stat-label">国家一级文物</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">16</span>
                            <span class="stat-label">国家二级文物</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">324</span>
                            <span class="stat-label">国家三级文物</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">4889</span>
                            <span class="stat-label">一般文物藏品</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pagination" id="pagination"></div>
        </section>

        <!-- 思政教育 -->
        <section id="education" class="section animate-on-scroll">
            <h2 class="section-title">思政教育基地</h2>
            <p class="section-subtitle">弘扬南梁精神，培育时代新人</p>
            <div class="card-grid">
                <div class="card education-card">
                    <div class="card-header"></div>
                    <div class="card-content">
                        <h3 class="card-title">红色课程体系</h3>
                        <p class="card-description">
                            面向不同年龄段开发系列化红色教育课程，通过多媒体教学、实地体验等方式，传承革命传统，坚定理想信念。
                        </p>
                        <button class="card-button" onclick="openEducationProgram()">查看课程</button>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header"></div>
                    <div class="card-content">
                        <h3 class="card-title">红色教育资源</h3>
                        <p class="card-description">
                            汇集专业讲解词库和思政教育素材，为学习者提供权威、系统的红色教育内容支撑。
                        </p>
                        <button class="card-button" onclick="openEducationResources()">浏览资源</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 关于我们 -->
    <section id="about" class="about-section animate-on-scroll">
        <div class="about-content">
            <h2 class="section-title">关于南梁革命纪念馆</h2>
            <p class="about-text">
                南梁革命纪念馆位于甘肃省庆阳市华池县，是为纪念陕甘边革命根据地的建立和发展而建设的重要纪念场所。纪念馆于1986年经甘肃省委、省政府批准建设，2014年新馆正式开馆，是全国爱国主义教育示范基地。
            </p>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number">5236</span>
                    <span class="stat-label">件馆藏文物</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">6426</span>
                    <span class="stat-label">平方米展陈面积</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">国家二级博物馆</span>
                    <span class="stat-label">荣誉称号</span>
                </div>
            </div>
            <p class="about-text">
                "面向群众、坚守信念、顾全大局、求实开拓"的南梁精神，是老一辈无产阶级革命家留给我们的宝贵财富。我们致力于传承红色基因，弘扬革命精神，为新时代的爱国主义教育贡献力量。
            </p>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-info">
                <h3 class="footer-title">南梁革命纪念馆</h3>
                <p class="footer-text">
                    地址：甘肃省庆阳市华池县南梁镇荔园堡<br>
                    开放时间：周二至周日 9:00-17:00（周一闭馆，法定节假日除外）<br>
                    咨询电话：0934-5371504<br>
                </p>
            </div>
        </div>
    </footer>

    <!-- 模态框组件 -->
    <div id="adminModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('adminModal')">&times;</span>
            <div id="adminLogin" style="text-align: center; padding: 2rem;">
                <h2 style="color: #c41e3a; margin-bottom: 2rem;">管理员登录</h2>
                <div style="max-width: 400px; margin: 0 auto;">
                    <div class="form-group">
                        <input type="password" id="adminPassword" placeholder="请输入管理员密码" style="padding: 1rem; font-size: 1rem;">
                    </div>
                    <button class="btn-upload" onclick="adminLogin()" style="width: 100%; padding: 1rem; font-size: 1rem;">登录</button>
                    <p style="color: #666; margin-top: 1rem; font-size: 0.9rem;">默认密码：nangliang2024</p>
                </div>
            </div>
            
            <div id="adminPanel" style="display: none;">
                <h2 style="color: #c41e3a; margin-bottom: 2rem;">内容管理后台</h2>
                
                <div class="admin-tabs" style="display: flex; border-bottom: 2px solid #eee; margin-bottom: 2rem;">
                    <button class="tab-btn active" onclick="switchTab('artifacts')">文物管理</button>
                    <button class="tab-btn" onclick="switchTab('resources')">教育资源管理</button>
                </div>
                
                <div id="artifactsAdmin" class="admin-content active">
                    <div class="upload-area">
                        <h3 style="color: #c41e3a; margin-bottom: 1rem;">上传文物资料</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                            <div class="form-group">
                                <label>文物名称:</label>
                                <input type="text" id="artifactName" placeholder="请输入文物名称">
                            </div>
                            <div class="form-group">
                                <label>文物等级:</label>
                                <select id="artifactLevel">
                                    <option value="国家一级文物">国家一级文物</option>
                                    <option value="国家二级文物">国家二级文物</option>
                                    <option value="国家三级文物">国家三级文物</option>
                                    <option value="一般文物">一般文物</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>文物图片:</label>
                                <input type="file" id="artifactImage" accept="image/*">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>文物描述:</label>
                            <textarea id="artifactDescription" placeholder="请输入文物的详细描述、历史背景等..." rows="3"></textarea>
                        </div>
                        <button class="btn-upload" onclick="uploadArtifact()">上传文物</button>
                    </div>
                    
                    <h3 style="color: #c41e3a; margin-bottom: 1rem;">已上传的文物 (<span id="artifactCount">0</span>件)</h3>
                    <div id="artifactsGrid" class="content-list">
                        <div class="empty-state">
                            <p>暂无上传的文物</p>
                        </div>
                    </div>
                </div>
                
                <div id="resourcesAdmin" class="admin-content">
                    <div class="upload-area">
                        <h3 style="color: #c41e3a; margin-bottom: 1rem;">上传教育资源</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                            <div class="form-group">
                                <label>资源标题:</label>
                                <input type="text" id="resourceTitle" placeholder="如：纪念馆总体介绍、展厅详细讲解等">
                            </div>
                            <div class="form-group">
                                <label>资源类型:</label>
                                <select id="resourceType">
                                    <option value="讲解词">讲解词</option>
                                    <option value="课程资料">课程资料</option>
                                    <option value="思政素材">思政素材</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>资源文档:</label>
                                <input type="file" id="resourceFile" accept=".txt,.doc,.docx,.pdf">
                            </div>
                        </div>
                        <button class="btn-upload" onclick="uploadResource()">上传资源</button>
                    </div>
                    
                    <h3 style="color: #c41e3a; margin-bottom: 1rem;">已上传的资源 (<span id="resourceCount">0</span>篇)</h3>
                    <div id="resourcesList" class="content-list">
                        <div class="empty-state">
                            <p>暂无上传的教育资源</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 文物详情模态框 -->
    <div id="artifactModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('artifactModal')">&times;</span>
            <div id="artifactDetails"></div>
        </div>
    </div>

    <!-- AI聊天模态框 -->
    <div id="aiChatModal" class="ai-chat-modal">
        <div class="ai-chat-content">
            <div class="ai-chat-header">
                <h3>🤖 小南 - AI智能讲解员</h3>
                <button class="ai-chat-send" onclick="closeAIChat()" style="background: transparent; padding: 0; font-size: 2rem;">&times;</button>
            </div>
            <div id="aiChatMessages" class="ai-chat-messages">
                <div class="ai-message">
                    您好！我是小南，南梁革命纪念馆的AI智能讲解员。我可以为您详细介绍南梁革命根据地的历史，回答关于刘志丹、谢子长、习仲勋等革命先辈的问题。请问您想了解什么？
                </div>
            </div>
            <div class="ai-chat-input-area">
                <form class="ai-chat-input-form" onsubmit="return false;">
                    <input type="text" id="aiChatInput" class="ai-chat-input" placeholder="请输入您的问题...">
                    <button type="button" class="ai-chat-send" onclick="sendAIMessage()">发送</button>
                </form>
            </div>
        </div>
    </div>

    <!-- JavaScript文件 -->
    <script src="js/main.js"></script>
    <script src="js/components.js"></script>
</body>
</html>